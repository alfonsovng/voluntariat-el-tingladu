{% extends '_registered.html' %}

{% from "_form_macros.html" import text, textarea, checkbox with context %}

{% block content %}
<div class="row justify-content-md-center">
    <div class="col-md-8 col-lg-7 col-xl-6">
      <h2>{% block title %}Confirmació de les dades personals{% endblock %}</h2>
      <h2><small class="text-muted">{{ volunteer.full_name }}</small></h2>
      <form role="form" method='POST'>
        {{ form.csrf_token }}
        {{ text(form.name, "Nom") }}
        {{ text(form.surname, "Cognoms") }}
        {{ text(form.phone, "Mòbil", placeholder="opcional, per tal millorar la comunicació") }}
        {{ checkbox(form.electrician, "Tens coneixements d'electricitat?", description="En alguns torns pot arribar a ser necessari fer alguna tasca que requereixi coneixements d'electricitat")}}
        {{ textarea(form.comments, "Amb quines persones properes t'agradaria compartir torn?", description="En el cas dels torns de barres, pots indicar amb quines persones vols compartir el torn i farem el possible per a seguir les teves indicacions", rows=4) }}
        <div class="form-group">
          {{ form.purchased_ticket1.label("Si ja tens alguna entrada comprada, indica'ns els localitzadors") }}
          {{ form.purchased_ticket1(class='form-control', placeholder="localitzador de l'entrada 1 comprada") }}
          {% for error in form.purchased_ticket1.errors %}
            <p class="form-error">{{ error }}</p>
          {% endfor %}
          {{ form.purchased_ticket2(class='form-control', placeholder="localitzador de l'entrada 2 comprada") }}
          {% for error in form.purchased_ticket2.errors %}
            <p class="form-error">{{ error }}</p>
          {% endfor %}
          {{ form.purchased_ticket3(class='form-control', placeholder="localitzador de l'entrada 3 comprada") }}
          {% for error in form.purchased_ticket3.errors %}
            <p class="form-error">{{ error }}</p>
          {% endfor %}
        </div>
        <div class="form-group">
          <label>Email</label>
          <input class="form-control" value="{{volunteer.email}}" readonly disabled>
        </div>
        <div class="form-group">
          <label>DNI</label>
          <input class="form-control" value="{{volunteer.dni}}" readonly disabled>
        </div>
        {{ checkbox(form.adult, "Soc major d'edat", description="Has de confirmar que ets major d'edat per poder col·laborar amb El Tingladu") }}
        <p><a target="_blank" href="/static/pdf/ACORD_VOLUNTARIAT_CANPISTRAUS_REVISAT_23.pdf">Acord de col·laboració voluntària amb El Tingladu</a></p>
        {{ checkbox(form.contract, "Accepto l'acord de col·laboració voluntària amb El Tingladu", description = "És necessari el teu DNI perquè tingui validesa el contracte de Voluntariat") }}
        <p><a target="_blank" href="/static/pdf/LOPD-i-RGPD-Voluntaris-El-Tingladu-APP_2024.pdf">Informació relativa a la protecció de les dades personals</a></p>
        {{ checkbox(form.data_protection, "En enviar aquest formulari, reconec que he llegit i comprès la informació relativa a la protecció de les dades personals i autoritzo el tractament de les meves dades personals per a la finalitat indicada, de conformitat amb la Llei Orgànica 3/2018, de 5 de desembre, de Protecció de Dades Personals i garantia dels drets digitals (LOPDGDD) que compleix la normativa europea de protecció de dades personals continguda al Reglament (UE) 2016/679 del Parlament Europeu i del Consell, de 27 d'abril de 2016, relatiu a la protecció de les persones físiques pel que fa al tractament de dades personals i a la lliure circulació d'aquestes dades (RGPD)") }}
        <div class="btn-group">
          {{ form.submit(value="Confirma les dades", class='btn btn-success') }}
        </div>
      </form>
    </div>
  </div>
{% endblock %}
